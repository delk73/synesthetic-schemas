{
  "$defs": {
    "Modulation": {
      "properties": {
        "description": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Description of the modulation set",
          "title": "Description"
        },
        "meta_info": {
          "anyOf": [
            {
              "type": "object"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Metadata about the modulation set",
          "examples": [
            {
              "category": "modulation",
              "complexity": "medium",
              "tags": [
                "multimodal",
                "dynamic"
              ]
            }
          ],
          "title": "Meta Info"
        },
        "modulations": {
          "description": "List of modulations",
          "examples": [
            {
              "amplitude": 0.5,
              "frequency": 0.5,
              "id": "wave_speed_pulse",
              "max": 1,
              "min": 0,
              "offset": 1,
              "phase": 0,
              "scale": 1,
              "scaleProfile": "linear",
              "target": "visual.u_wave_speed",
              "type": "additive",
              "waveform": "triangle"
            },
            {
              "amplitude": 400,
              "frequency": 0.25,
              "id": "filter_sweep",
              "max": 1,
              "min": 0,
              "offset": 800,
              "phase": 0,
              "scale": 1,
              "scaleProfile": "exponential",
              "target": "tone.filter.frequency",
              "type": "additive",
              "waveform": "triangle"
            },
            {
              "amplitude": 0.2,
              "frequency": 1,
              "id": "haptic_pulse",
              "max": 1,
              "min": 0,
              "offset": 0.6,
              "phase": 0,
              "scale": 1,
              "scaleProfile": "linear",
              "target": "haptic.intensity",
              "type": "additive",
              "waveform": "sine"
            }
          ],
          "items": {
            "$ref": "#/$defs/ModulationItem"
          },
          "title": "Modulations",
          "type": "array"
        },
        "name": {
          "description": "Name of the modulation set",
          "title": "Name",
          "type": "string"
        }
      },
      "required": [
        "name",
        "modulations"
      ],
      "title": "Modulation",
      "type": "object"
    },
    "ModulationItem": {
      "properties": {
        "amplitude": {
          "description": "Amplitude of the modulation",
          "title": "Amplitude",
          "type": "number"
        },
        "frequency": {
          "description": "Frequency of the modulation in Hz",
          "title": "Frequency",
          "type": "number"
        },
        "id": {
          "description": "Unique identifier for the modulation",
          "title": "Id",
          "type": "string"
        },
        "max": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Maximum allowable value for the modulation",
          "title": "Max"
        },
        "min": {
          "anyOf": [
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Minimum allowable value for the modulation",
          "title": "Min"
        },
        "offset": {
          "description": "Offset/base value of the modulation",
          "title": "Offset",
          "type": "number"
        },
        "phase": {
          "description": "Phase offset in radians",
          "title": "Phase",
          "type": "number"
        },
        "scale": {
          "default": 1,
          "description": "Scaling factor applied to the modulation output",
          "title": "Scale",
          "type": "number"
        },
        "scaleProfile": {
          "description": "Response profile to shape the modulation output",
          "enum": [
            "linear",
            "exponential",
            "logarithmic",
            "sine",
            "cosine"
          ],
          "title": "Scaleprofile",
          "type": "string"
        },
        "target": {
          "description": "Target parameter path (e.g., 'visual.u_wave_speed', 'tone.filter.frequency')",
          "title": "Target",
          "type": "string"
        },
        "type": {
          "description": "Type of modulation",
          "enum": [
            "additive",
            "multiplicative"
          ],
          "title": "Type",
          "type": "string"
        },
        "waveform": {
          "description": "Waveform type",
          "enum": [
            "sine",
            "triangle",
            "square",
            "sawtooth"
          ],
          "title": "Waveform",
          "type": "string"
        }
      },
      "required": [
        "id",
        "target",
        "type",
        "waveform",
        "frequency",
        "amplitude",
        "offset",
        "phase"
      ],
      "title": "ModulationItem",
      "type": "object"
    }
  },
  "$id": "https://schemas.synesthetic.dev/0.1.0/synesthetic-asset.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "additionalProperties": false,
  "properties": {
    "control": {
      "anyOf": [
        {
          "$ref": "https://schemas.synesthetic.dev/0.1.0/control-bundle.schema.json"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "created_at": {
      "format": "date-time",
      "readOnly": true,
      "type": "string"
    },
    "description": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Description of the asset's purpose",
      "examples": [
        "A circle that pulses and changes color and sound frequency based on user controls"
      ],
      "title": "Description"
    },
    "haptic": {
      "anyOf": [
        {
          "$ref": "https://schemas.synesthetic.dev/0.1.0/haptic.schema.json"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "meta_info": {
      "anyOf": [
        {
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Metadata about the asset",
      "examples": [
        {
          "category": "visual",
          "complexity": "medium",
          "tags": [
            "geometric",
            "reactive",
            "audio"
          ]
        }
      ],
      "title": "Meta Info"
    },
    "modulation": {
      "anyOf": [
        {
          "$ref": "#/$defs/Modulation"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "modulations": {
      "anyOf": [
        {
          "items": {
            "$ref": "#/$defs/ModulationItem"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Array of modulations for this asset",
      "examples": [
        {
          "amplitude": 0.5,
          "frequency": 0.5,
          "id": "wave_speed_pulse",
          "max": 1,
          "min": 0,
          "offset": 1,
          "phase": 0,
          "scale": 1,
          "scaleProfile": "linear",
          "target": "visual.u_wave_speed",
          "type": "additive",
          "waveform": "triangle"
        }
      ],
      "title": "Modulations"
    },
    "name": {
      "description": "Name of the synesthetic asset",
      "examples": [
        "Circle Pulsar"
      ],
      "minLength": 1,
      "title": "Name",
      "type": "string"
    },
    "rule_bundle": {
      "$ref": "https://schemas.synesthetic.dev/0.1.0/rule-bundle.schema.json"
    },
    "shader": {
      "anyOf": [
        {
          "$ref": "https://schemas.synesthetic.dev/0.1.0/shader.schema.json"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "tone": {
      "anyOf": [
        {
          "$ref": "https://schemas.synesthetic.dev/0.1.0/tone.schema.json"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "updated_at": {
      "format": "date-time",
      "readOnly": true,
      "type": "string"
    }
  },
  "required": [
    "name"
  ],
  "title": "SynestheticAsset",
  "type": "object",
  "x-schema-version": "0.1.0"
}
